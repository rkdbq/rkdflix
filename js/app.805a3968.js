(function(){"use strict";var e={5139:function(e,t,o){var i=o(3751),n=(o(4114),o(641)),a=o(953),r=o(33),s=o.p+"img/logo.d67acdb3.png",l=o(6278),c=o(5220);const u=["disabled"];function d(e,t,o,i,a,r){return(0,n.uX)(),(0,n.CE)("button",{onClick:t[0]||(t[0]=(...e)=>o.onClick&&o.onClick(...e)),disabled:o.disabled},[(0,n.RG)(e.$slots,"default",{},void 0,!0)],8,u)}var v={name:"rkdButton",props:{onClick:Function,disabled:{type:Boolean,default:!1},widthSize:{type:Number,default:120}}},p=o(6262);const g=(0,p.A)(v,[["render",d],["__scopeId","data-v-5cd1cc54"]]);var m=g,h=o(5597),f=o(6188);const w={class:"app-container"},k={key:0,class:"header-container"},b={class:"nav-main"},_={class:"nav-user"},y={key:0,class:"user-info"},I={key:1,class:"user-info"},M={class:"logout-button"},L={class:"main-content"};var O={__name:"App",setup(e){const t=(0,c.lq)(),o=(0,c.rd)(),i=(0,n.EW)((()=>"/sign-in"===t.path)),u=(0,n.EW)((()=>"/error"===t.path)),d=(0,l.Pj)(),v=(0,n.EW)((()=>d.state.user.userId)),p=(0,n.EW)((()=>d.state.user.nickname)),g=()=>{localStorage.removeItem("remember_me"),localStorage.removeItem("access_token"),o.push("/sign-in")};return(0,n.sV)((()=>{null===d.state.user.userId&&o.push("/sign-in");const e=()=>{console.error("오프라인 상태 감지!"),o.push("/error")};return window.addEventListener("offline",e),()=>{window.removeEventListener("offline",e)}})),(e,t)=>{const o=(0,n.g2)("RouterLink"),l=(0,n.g2)("RouterView");return(0,n.uX)(),(0,n.CE)("div",w,[i.value||u.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("header",k,[(0,n.Lk)("nav",b,[(0,n.bF)(o,{class:"nav-item nav-route",to:"/"},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.Lk)("span",null,[(0,n.Lk)("img",{class:"logo",src:s,alt:"홈"})],-1)]))),_:1}),(0,n.bF)(o,{class:"nav-item nav-route",to:"/"},{default:(0,n.k6)((()=>[(0,n.bF)((0,a.R1)(h.gc),{icon:(0,a.R1)(f.muz)},null,8,["icon"]),t[1]||(t[1]=(0,n.eW)()),t[2]||(t[2]=(0,n.Lk)("span",null,"홈",-1))])),_:1}),(0,n.bF)(o,{class:"nav-item nav-route",to:"/popular"},{default:(0,n.k6)((()=>[(0,n.bF)((0,a.R1)(h.gc),{icon:(0,a.R1)(f.kNw)},null,8,["icon"]),t[3]||(t[3]=(0,n.eW)()),t[4]||(t[4]=(0,n.Lk)("span",null,"인기",-1))])),_:1}),(0,n.bF)(o,{class:"nav-item nav-route",to:"/search"},{default:(0,n.k6)((()=>[(0,n.bF)((0,a.R1)(h.gc),{icon:(0,a.R1)(f.MjD)},null,8,["icon"]),t[5]||(t[5]=(0,n.eW)()),t[6]||(t[6]=(0,n.Lk)("span",null,"검색",-1))])),_:1}),(0,n.bF)(o,{class:"nav-item nav-route",to:"/wishlist"},{default:(0,n.k6)((()=>[(0,n.bF)((0,a.R1)(h.gc),{icon:(0,a.R1)(f.qcK)},null,8,["icon"]),t[7]||(t[7]=(0,n.eW)()),t[8]||(t[8]=(0,n.Lk)("span",null,"위시리스트",-1))])),_:1})]),(0,n.Lk)("nav",_,[p.value?((0,n.uX)(),(0,n.CE)("p",y,(0,r.v_)(p.value)+" 님",1)):((0,n.uX)(),(0,n.CE)("p",I,(0,r.v_)(v.value)+" 님",1)),(0,n.Lk)("div",M,[(0,n.bF)(m,{class:"logout-button","on-click":g},{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("로그아웃")]))),_:1})])])])),(0,n.Lk)("main",L,[(0,n.bF)(l)])])}}};const R=O;var E=R,C=o(3464),P=o.n(C);const S={class:"home-container"};function W(e,t,o,i,a,r){const s=(0,n.g2)("MovieBanner"),l=(0,n.g2)("MovieSliderView"),c=(0,n.g2)("Loading");return(0,n.uX)(),(0,n.CE)("div",S,[(0,n.bF)(s,{class:"movie-banner",id:i.firstMovie["now_playing"]["id"],title:i.firstMovie["now_playing"]["title"],"backdrop-path":i.firstMovie["now_playing"]["backdrop_path"],overview:i.firstMovie["now_playing"]["overview"]},null,8,["id","title","backdrop-path","overview"]),(0,n.bF)(l,{"list-name":"Now Playing","movie-items":i.movieItemsMap["now_playing"]},null,8,["movie-items"]),(0,n.bF)(l,{"list-name":"Top Rated","movie-items":i.movieItemsMap["top_rated"]},null,8,["movie-items"]),(0,n.bF)(l,{"list-name":"Upcoming","movie-items":i.movieItemsMap["upcoming"]},null,8,["movie-items"]),(0,n.bF)(c,{isLoading:i.loading},null,8,["isLoading"])])}const X={class:"slider-container"},A={class:"list-name"},F={class:"slider"},N={class:"movie-grid",ref:"slider"};function T(e,t,o,i,a,s){const l=(0,n.g2)("MovieItem");return(0,n.uX)(),(0,n.CE)("div",X,[(0,n.Lk)("h1",A,(0,r.v_)(e.listName),1),(0,n.Lk)("div",F,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.prevSlide&&e.prevSlide(...t)),class:"arrow left-arrow"},"❮"),(0,n.Lk)("div",N,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.movieItems,(e=>((0,n.uX)(),(0,n.Wv)(l,{key:e["id"],id:e["id"],title:e["title"],posterPath:e["poster_path"],overview:e["overview"],voteAverage:e["vote_average"],"show-info":!1},null,8,["id","title","posterPath","overview","voteAverage"])))),128))],512),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.nextSlide&&e.nextSlide(...t)),class:"arrow right-arrow"},"❯")])])}const z={class:"poster-container"},x=["src","alt"],D={key:0,class:"in-wishlist"},K={key:0,class:"title"},U={key:1};function J(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",{class:"movie-item",onClick:t[0]||(t[0]=(...e)=>a.toggleToWishlist&&a.toggleToWishlist(...e))},[(0,n.Lk)("div",z,[(0,n.Lk)("img",{src:a.posterUrl,alt:o.title},null,8,x),(0,n.Lk)("p",{style:(0,r.Tr)(a.voteAverageStyle),class:"vote-box"},(0,r.v_)(a.roundedVoteAverage),5),(0,n.bF)(i.eB,null,{default:(0,n.k6)((()=>[a.isInWishlist?((0,n.uX)(),(0,n.CE)("span",D,"*")):(0,n.Q3)("",!0)])),_:1})]),o.showInfo?((0,n.uX)(),(0,n.CE)("p",K,(0,r.v_)(o.title),1)):(0,n.Q3)("",!0),o.showInfo?((0,n.uX)(),(0,n.CE)("p",U,(0,r.v_)(a.truncatedOverview),1)):(0,n.Q3)("",!0)])}const V="https://image.tmdb.org/t/p/original";var j={name:"MovieItem",props:{id:Number,title:String,posterPath:String,overview:{type:String,default:""},voteAverage:Number,showInfo:Boolean},setup(e){const t=(0,l.Pj)(),{id:o,title:i,posterPath:r,overview:s,voteAverage:c}=(0,a.QW)(e),u=(0,n.EW)((()=>V+r.value)),d=(0,n.EW)((()=>Math.round(10*c.value)/10)),v=(0,n.EW)((()=>{let e;return e=d.value>=8?"green":d.value>=4?"orange":"red",{backgroundColor:e,color:"white",padding:"4px 8px",borderRadius:"4px",display:"inline-block",fontWeight:"bold"}})),p=(0,n.EW)((()=>s.value.length>50?s.value.substring(0,50)+"...":s.value)),g=(0,n.EW)((()=>t.state.user.wishlist[o.value])),m=()=>{const e={id:o.value,title:i.value,poster_path:r.value,overview:s.value,vote_average:c.value};t.dispatch("toggleMovieInWishlist",e)};return{posterUrl:u,voteAverageStyle:v,roundedVoteAverage:d,truncatedOverview:p,isInWishlist:g,toggleToWishlist:m}}};const Y=(0,p.A)(j,[["render",J],["__scopeId","data-v-e4fb6990"]]);var B=Y,Q=(0,n.pM)({name:"MovieSliderView",components:{MovieItem:B},props:{listName:{type:String,required:!0},movieItems:{type:Array,required:!0}},setup(){const e=(0,a.KR)(null),t=t=>{e.value&&e.value.scrollBy({top:0,left:t*e.value.clientWidth,behavior:"smooth"})},o=()=>t(1),i=()=>t(-1);return{slider:e,nextSlide:o,prevSlide:i}}});const Z=(0,p.A)(Q,[["render",T],["__scopeId","data-v-57fb5e5f"]]);var G=Z;const q={key:0,class:"loading-overlay"};function $(e,t,o,a,r,s){return(0,n.uX)(),(0,n.Wv)(i.eB,{name:"fade"},{default:(0,n.k6)((()=>[o.isLoading?((0,n.uX)(),(0,n.CE)("div",q,t[0]||(t[0]=[(0,n.Lk)("div",{class:"loading-spinner"},"Loading...",-1)]))):(0,n.Q3)("",!0)])),_:1})}var H={name:"LoadingOverlay",props:{isLoading:{}}};const ee=(0,p.A)(H,[["render",$],["__scopeId","data-v-965676dc"]]);var te=ee;const oe={class:"movie-item"},ie={class:"poster-container"},ne=["src","alt"],ae={class:"overlay"},re={class:"title"},se={class:"overview"};function le(e,t,o,i,a,s){return(0,n.uX)(),(0,n.CE)("div",oe,[(0,n.Lk)("div",ie,[(0,n.Lk)("img",{src:e.backdropUrl,alt:e.title,class:(0,r.C4)(["backdrop-image",{loaded:e.isImageLoaded}]),onLoad:t[0]||(t[0]=(...t)=>e.handleImageLoad&&e.handleImageLoad(...t))},null,42,ne),(0,n.Lk)("div",ae,[(0,n.Lk)("h1",re,(0,r.v_)(e.title),1),(0,n.Lk)("p",se,(0,r.v_)(e.overview),1)])])])}const ce="https://image.tmdb.org/t/p/original";var ue=(0,n.pM)({name:"MovieBanner",props:{id:Number,title:String,backdropPath:String,overview:{type:String,default:""},voteAverage:Number},setup(e){const t=(0,n.EW)((()=>ce+e.backdropPath)),o=(0,a.KR)(!1),i=()=>{o.value=!0};return{backdropUrl:t,isImageLoaded:o,handleImageLoad:i}}});const de=(0,p.A)(ue,[["render",le],["__scopeId","data-v-efc883be"]]);var ve=de;const pe="https://api.themoviedb.org/3/movie/",ge={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMGIyYzM0Mzg5NDRjOWZhM2Y1OGM4ZWVhMTMwZmQ3MiIsIm5iZiI6MTczMDYwMDUxNy45MDUxNjQ3LCJzdWIiOiI2NzI2ZGQ5ZDU3NzIyYjU1NzE3YTk1NzMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.Lp6uHXXLkMDL02Ry0-3d_9niajSqhWRNcJbW2tnsXyw"}};var me={name:"HomePage",components:{MovieBanner:ve,MovieSliderView:G,Loading:te},setup(){const e=(0,a.Kh)({now_playing:[],top_rated:[],upcoming:[]}),t=(0,a.Kh)({now_playing:{},top_rated:{},upcoming:{}}),o=(0,a.KR)(!1),i=i=>{o.value=!0;const n="ko",a=1;fetch(`${pe}${i}?language=${n}&page=${a}`,ge).then((e=>e.json())).then((o=>{e[i]=o["results"],t[i]=o["results"][0]})).catch((e=>console.error(e))).finally((()=>{o.value=!1}))};return(0,n.sV)((()=>{i("now_playing"),i("top_rated"),i("upcoming")})),{movieItemsMap:e,firstMovie:t,loading:o}}};const he=(0,p.A)(me,[["render",W],["__scopeId","data-v-35ef878c"]]);var fe=he;const we={class:"popular-container"},ke={class:"popular-view"},be={class:"select-view-container"},_e={key:0},ye={key:1};function Ie(e,t,o,i,a,r){const s=(0,n.g2)("RkdButton"),l=(0,n.g2)("MovieTableView"),c=(0,n.g2)("MovieScrollView"),u=(0,n.g2)("Loading");return(0,n.uX)(),(0,n.CE)("div",we,[(0,n.Lk)("div",ke,[t[2]||(t[2]=(0,n.Lk)("h1",{class:"category"},"Popular",-1)),(0,n.Lk)("div",be,[(0,n.bF)(s,{"on-click":i.toggleViewOption,disabled:"scroll"===i.viewOption},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("스크롤")]))),_:1},8,["on-click","disabled"]),(0,n.bF)(s,{"on-click":i.toggleViewOption,disabled:"grid"===i.viewOption},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("그리드")]))),_:1},8,["on-click","disabled"])])]),"grid"===i.viewOption?((0,n.uX)(),(0,n.CE)("div",_e,[(0,n.bF)(l,{"table-page":i.tablePage,"index-from":i.indexFrom,"index-to":i.indexTo,"movie-items":i.movieItems,"next-page":i.nextPage,"prev-page":i.prevPage},null,8,["table-page","index-from","index-to","movie-items","next-page","prev-page"])])):(0,n.Q3)("",!0),"scroll"===i.viewOption?((0,n.uX)(),(0,n.CE)("div",ye,[(0,n.bF)(c,{"go-top":i.goTop,"movie-items":i.movieItems},null,8,["go-top","movie-items"])])):(0,n.Q3)("",!0),(0,n.bF)(u,{isLoading:i.loading},null,8,["isLoading"])])}const Me={class:"go-top-button"};function Le(e,t,o,i,a,r){const s=(0,n.g2)("MovieGrid"),l=(0,n.g2)("FontAwesomeIcon"),c=(0,n.g2)("RkdButton");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(s,{"movie-items":e.movieItems,"show-info":e.showInfo},null,8,["movie-items","show-info"]),(0,n.Lk)("div",Me,[(0,n.bF)(c,{"on-click":e.goTop},{default:(0,n.k6)((()=>[(0,n.bF)(l,{icon:e.faArrowUp()},null,8,["icon"])])),_:1},8,["on-click"])])],64)}const Oe={class:"movie-grid-container"},Re={class:"movie-grid"};function Ee(e,t,o,a,r,s){const l=(0,n.g2)("MovieItem");return(0,n.uX)(),(0,n.CE)("div",Oe,[(0,n.Lk)("div",Re,[(0,n.bF)(i.F,{name:"list"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.movieItems,(t=>((0,n.uX)(),(0,n.Wv)(l,{key:t["id"],id:t["id"],posterPath:t["poster_path"],voteAverage:t["vote_average"],overview:t["overview"],title:t["title"],"show-info":e.showInfo},null,8,["id","posterPath","voteAverage","overview","title","show-info"])))),128))])),_:1})])])}var Ce=(0,n.pM)({name:"MovieGrid",components:{MovieItem:B},props:{movieItems:{type:Array,required:!0},showInfo:{type:Boolean,default:!1}}});const Pe=(0,p.A)(Ce,[["render",Ee],["__scopeId","data-v-e5cdc37e"]]);var Se=Pe,We=(0,n.pM)({name:"MovieScrollView",methods:{faArrowUp(){return f.INu}},components:{FontAwesomeIcon:h.gc,RkdButton:m,MovieGrid:Se},props:{goTop:{type:Function,required:!0},movieItems:{type:Array,required:!0},showInfo:{type:Boolean,default:!1}}});const Xe=(0,p.A)(We,[["render",Le],["__scopeId","data-v-734226be"]]);var Ae=Xe;const Fe={class:"pagination"},Ne={class:"pagination-info"};function Te(e,t,o,i,a,s){const l=(0,n.g2)("MovieGrid"),c=(0,n.g2)("RkdButton");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(l,{"movie-items":e.slicedMovieItems},null,8,["movie-items"]),(0,n.Lk)("div",Fe,[(0,n.bF)(c,{"on-click":e.prevPage,disabled:1===e.tablePage},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("❮")]))),_:1},8,["on-click","disabled"]),(0,n.Lk)("span",Ne,"페이지 "+(0,r.v_)(e.tablePage),1),(0,n.bF)(c,{"on-click":e.nextPage,disabled:20===e.tablePage},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("❯")]))),_:1},8,["on-click","disabled"])])],64)}var ze=(0,n.pM)({name:"MovieTableView",components:{RkdButton:m,MovieGrid:Se},props:{tablePage:{type:Number,required:!0},indexFrom:{type:Number,required:!0},indexTo:{type:Number,required:!0},movieItems:{type:Array,required:!0},nextPage:{type:Function,required:!0},prevPage:{type:Function,required:!0}},setup(e){const t=(0,n.EW)((()=>e.movieItems.slice(e.indexFrom,e.indexTo)));return{slicedMovieItems:t}}});const xe=(0,p.A)(ze,[["render",Te],["__scopeId","data-v-6d410296"]]);var De=xe;const Ke="https://api.themoviedb.org/3/movie/popular?language=ko&page=",Ue={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMGIyYzM0Mzg5NDRjOWZhM2Y1OGM4ZWVhMTMwZmQ3MiIsIm5iZiI6MTczMDYwMDUxNy45MDUxNjQ3LCJzdWIiOiI2NzI2ZGQ5ZDU3NzIyYjU1NzE3YTk1NzMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.Lp6uHXXLkMDL02Ry0-3d_9niajSqhWRNcJbW2tnsXyw"}};var Je={name:"PopularMovie",components:{RkdButton:m,MovieTableView:De,MovieScrollView:Ae,Loading:te},setup(){const e=(0,a.KR)([]),t=(0,a.KR)(1),o=(0,a.KR)("grid"),i=(0,a.KR)(!0),r=(0,a.KR)(!1),s=(0,a.KR)(0),l=(0,a.KR)(10),c=(0,a.KR)(1),u=(0,n.EW)((()=>Number(s.value+l.value))),d=t=>{r.value=!0;const o=`${Ke}${t}`;fetch(o,Ue).then((e=>e.json())).then((t=>{e.value.push(...t["results"])})).catch((e=>console.error(e))).finally((()=>{r.value=!1}))},v=()=>{u.value+l.value>=e.value.length&&(t.value++,d(t.value)),c.value++,s.value+=l.value},p=()=>{c.value>1&&(c.value--,s.value-=l.value)},g=()=>{window.scrollTo({top:0,behavior:"smooth"})},m=()=>{"scroll"===o.value?h("grid"):h("scroll")},h=i=>{o.value=i,t.value=1,c.value=1,s.value=0,e.value=[],d(t.value),document.body.style.overflow="grid"===i?"hidden":""},f=()=>{if(i.value&&"scroll"===o.value){const e=window.scrollY,o=window.innerHeight,n=document.documentElement.scrollHeight;e+o>=n-5&&(i.value=!1,t.value++,d(t.value),setTimeout((()=>{i.value=!0}),1e3))}},w=()=>{const e=window.innerWidth,t=window.innerHeight,o=.8,i=e>768?200:200*o,n=e>768?300:300*o,a=e>768?20:2,r=e>768?16:2;l.value=Math.floor((e-a+r)/(i+r))*(Math.floor(t/n)-1),l.value=Math.max(1,l.value)};return(0,n.sV)((()=>{h("grid"),window.addEventListener("scroll",f),w()})),(0,n.xo)((()=>{window.removeEventListener("scroll",f),document.body.style.overflow=""})),{movieItems:e,viewOption:o,isScrollListening:i,loading:r,tablePage:c,sliceSize:l,indexFrom:s,indexTo:u,nextPage:v,prevPage:p,goTop:g,toggleViewOption:m}}};const Ve=(0,p.A)(Je,[["render",Ie],["__scopeId","data-v-1bc2f72e"]]);var je=Ve;const Ye={class:"search-container"},Be={class:"search-view"},Qe={class:"filter-container"};function Ze(e,t,o,i,a,r){const s=(0,n.g2)("Filter"),l=(0,n.g2)("FontAwesomeIcon"),c=(0,n.g2)("RkdButton"),u=(0,n.g2)("MovieScrollView"),d=(0,n.g2)("Loading");return(0,n.uX)(),(0,n.CE)("div",Ye,[(0,n.Lk)("div",Be,[t[0]||(t[0]=(0,n.Lk)("h1",{class:"list-name"},"Search",-1)),(0,n.Lk)("div",Qe,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Object.entries(i.filters),(([e,t])=>((0,n.uX)(),(0,n.Wv)(s,{key:e,"filter-type":e,options:t,"selected-option":i.selectedFilterOption[e],onOnOptionSelected:i.selectOption},null,8,["filter-type","options","selected-option","onOnOptionSelected"])))),128)),(0,n.bF)(c,{"on-click":i.resetFilters},{default:(0,n.k6)((()=>[(0,n.bF)(l,{icon:r.faRotateRight()},null,8,["icon"])])),_:1},8,["on-click"])])]),(0,n.bF)(u,{"go-top":i.goTop,"movie-items":i.movieItems},null,8,["go-top","movie-items"]),(0,n.bF)(d,{isLoading:i.loading},null,8,["isLoading"])])}o(8992),o(3949);const Ge={class:"dropdown"},qe={key:0,class:"dropdown-menu"};function $e(e,t,o,i,a,s){const l=(0,n.g2)("RkdButton");return(0,n.uX)(),(0,n.CE)("div",Ge,[(0,n.bF)(l,{"on-click":e.toggleDropdown},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(e.selectedOption),1)])),_:1},8,["on-click"]),e.isOpen?((0,n.uX)(),(0,n.CE)("div",qe,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.options,((t,o)=>((0,n.uX)(),(0,n.Wv)(l,{key:o,onClick:o=>e.selectOption(t),class:"dropdown-button"},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(t),1)])),_:2},1032,["onClick"])))),128))])):(0,n.Q3)("",!0)])}var He=(0,n.pM)({name:"FilterDropdown",components:{RkdButton:m},props:{filterType:{type:String,required:!0},options:{type:Array,required:!0},selectedOption:{type:String,required:!0}},setup(e,{emit:t}){const o=(0,a.KR)(!1),i=()=>{o.value=!o.value},n=o=>{t("onOptionSelected",[e.filterType,o]),i()};return{isOpen:o,toggleDropdown:i,selectOption:n}}});const et=(0,p.A)(He,[["render",$e],["__scopeId","data-v-370ed1e9"]]);var tt=et;const ot="https://api.themoviedb.org/3/discover/",it={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMGIyYzM0Mzg5NDRjOWZhM2Y1OGM4ZWVhMTMwZmQ3MiIsIm5iZiI6MTczMDYwMDUxNy45MDUxNjQ3LCJzdWIiOiI2NzI2ZGQ5ZDU3NzIyYjU1NzE3YTk1NzMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.Lp6uHXXLkMDL02Ry0-3d_9niajSqhWRNcJbW2tnsXyw"}};var nt={name:"SearchMovie",methods:{faRotateRight(){return f.lLb}},components:{FontAwesomeIcon:h.gc,RkdButton:m,MovieScrollView:Ae,Filter:tt,Loading:te},setup(){const e=(0,l.Pj)(),t=(0,a.KR)([]),o=(0,a.KR)(1),i=(0,a.KR)(!0),r=(0,a.KR)(!1),s=(0,a.Kh)({}),c=(0,a.Kh)({"인기순":"popularity","이름순":"title","별점순":"vote_average","개봉순":"primary_release_date"}),u=(0,a.Kh)({"오름차순":"asc","내림차순":"desc"}),d=(0,n.EW)((()=>e.state.user.search)),v=(0,a.Kh)({genre:[],"vote avg":["0-2","2-4","4-6","6-8","8-10"],"sort by":["인기순","이름순","별점순"],"order by":["오름차순","내림차순"]}),p=()=>{e.state.user.search["genre"]="장르",e.state.user.search["vote avg"]="별점",e.state.user.search["sort by"]="기준",e.state.user.search["order by"]="순서",t.value=[],o.value=1,m(o.value)},g=()=>{const e="https://api.themoviedb.org/3/genre/movie/list?language=ko";fetch(e,it).then((e=>e.json())).then((e=>{e["genres"].forEach((e=>{v["genre"].push(e["name"]),s[e["name"]]=e["id"]}))})).finally((()=>{m(o.value)}))},m=o=>{r.value=!0;const i="movie",n="ko",a=e.state.user.search["genre"],l=e.state.user.search["vote avg"],d=e.state.user.search["sort by"],v=e.state.user.search["order by"];let p=ot+`${i}?language=${n}&page=${o}`;if("장르"!==a&&s[a]&&(p+=`&with_genres=${s[a]}`),"별점"!==l){const e=l.split("-");p+=`&vote_average.gte=${e[0]}&vote_average.lte=${e[1]}`}if("기준"!==d&&"순서"!==v){const e=c[d],t=u[v];p+=`&sort_by=${e}.${t}`}fetch(p,it).then((e=>e.json())).then((e=>{t.value.push(...e["results"])})).catch((e=>console.error(e))).finally((()=>{r.value=!1}))},h=()=>{window.scrollTo({top:0,behavior:"smooth"})},f=()=>{if(i.value){const e=window.scrollY,t=window.innerHeight,n=document.documentElement.scrollHeight;e+t>=n-5&&(i.value=!1,o.value++,m(o.value),setTimeout((()=>{i.value=!0}),1e3))}},w=i=>{e.dispatch("updateMovieSearchOption",i),t.value=[],o.value=1,m(o.value)};return(0,n.KC)((()=>{g()})),(0,n.sV)((async()=>{window.addEventListener("scroll",f)})),(0,n.xo)((()=>{window.removeEventListener("scroll",f)})),{movieItems:t,currentPage:o,isScrollListening:i,loading:r,genreId:s,sortParams:c,orderParams:u,selectedFilterOption:d,filters:v,resetFilters:p,getGenreList:g,fetchSearchedMovies:m,goTop:h,handleScroll:f,selectOption:w}}};const at=(0,p.A)(nt,[["render",Ze],["__scopeId","data-v-1845c72e"]]);var rt=at;const st={class:"wishlist-container"};function lt(e,t,o,i,a,r){const s=(0,n.g2)("MovieScrollView");return(0,n.uX)(),(0,n.CE)("div",st,[t[0]||(t[0]=(0,n.Lk)("div",{class:"wishlist-view"},[(0,n.Lk)("h1",{class:"list-name"},"Wishlist"),(0,n.Lk)("div",{class:"margin-container"})],-1)),(0,n.bF)(s,{"go-top":i.goTop,"movie-items":i.wishlist,"show-info":!1},null,8,["go-top","movie-items"])])}var ct={name:"WishList",components:{MovieScrollView:Ae},setup(){const e=(0,l.Pj)(),t=(0,n.EW)((()=>Object.values(e.state.user.wishlist))),o=()=>{window.scrollTo({top:0,behavior:"smooth"})};return{wishlist:t,goTop:o}}};const ut=(0,p.A)(ct,[["render",lt],["__scopeId","data-v-1fa36fea"]]);var dt=ut;const vt={class:"login-container"},pt={class:"login-box"},gt={key:0,class:"input-box"},mt={class:"input-container"},ht={key:1,class:"input-box"},ft={class:"input-container"},wt={class:"action-buttons"},kt={class:"oauth-button"},bt={class:"toggle-button"};function _t(e,t,o,a,s,l){const c=(0,n.g2)("UserInput"),u=(0,n.g2)("RkdButton");return(0,n.uX)(),(0,n.CE)("div",vt,[t[7]||(t[7]=(0,n.Lk)("div",{class:"background"},null,-1)),(0,n.Lk)("div",pt,[(0,n.bF)(i.eB,{name:"slide-up",mode:"out-in"},{default:(0,n.k6)((()=>[a.isLogin?((0,n.uX)(),(0,n.CE)("div",gt,[t[1]||(t[1]=(0,n.Lk)("h1",null,"로그인",-1)),(0,n.bF)(c,{class:"input-container",placeholder:"아이디","input-field":a.userId,"input-type":"text",onOnChanged:a.onIdChanged},null,8,["input-field","onOnChanged"]),(0,n.bF)(c,{class:"input-container",placeholder:"비밀번호","input-field":a.userPw,"input-type":"password",onOnChanged:a.onPwChanged},null,8,["input-field","onOnChanged"]),(0,n.Lk)("div",mt,[(0,n.bF)(c,{placeholder:"로그인 정보 저장","input-field":a.rememberMe,"input-type":"checkbox",onOnChanged:a.onRememberMeChanged},null,8,["input-field","onOnChanged"]),t[0]||(t[0]=(0,n.Lk)("label",{for:"rememberMe"},"로그인 정보 저장",-1))])])):((0,n.uX)(),(0,n.CE)("div",ht,[t[3]||(t[3]=(0,n.Lk)("h1",null,"회원가입",-1)),(0,n.bF)(c,{class:"input-container",placeholder:"아이디","input-field":a.userId,"input-type":"text",onOnChanged:a.onIdChanged,"validation-message":a.emailError},null,8,["input-field","onOnChanged","validation-message"]),(0,n.bF)(c,{class:"input-container",placeholder:"비밀번호","input-field":a.userPw,"input-type":"password",onOnChanged:a.onPwChanged},null,8,["input-field","onOnChanged"]),(0,n.bF)(c,{class:"input-container",placeholder:"비밀번호 확인","input-field":a.userPwConfirm,"input-type":"password",onOnChanged:a.onPwConfirmChanged,"validation-message":a.pwError},null,8,["input-field","onOnChanged","validation-message"]),(0,n.Lk)("div",ft,[(0,n.bF)(c,{placeholder:"약관 동의","input-field":a.userConditionAgreement,"input-type":"checkbox",onOnChanged:a.onConditionAgreementChanged},null,8,["input-field","onOnChanged"]),t[2]||(t[2]=(0,n.Lk)("label",{for:"userConditionAgreement"},"약관 동의",-1))])]))])),_:1}),(0,n.Lk)("div",wt,[a.isLogin?((0,n.uX)(),(0,n.Wv)(u,{key:0,"on-click":a.LogIn,"width-size":200},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("로그인")]))),_:1},8,["on-click"])):(0,n.Q3)("",!0),(0,n.Lk)("div",kt,[a.isLogin?((0,n.uX)(),(0,n.Wv)(u,{key:0,"on-click":a.KakaoLogIn,"width-size":200},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("카카오 로그인")]))),_:1},8,["on-click"])):(0,n.Q3)("",!0)]),a.isLogin?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(u,{key:1,"on-click":a.Register,"width-size":200},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("회원가입")]))),_:1},8,["on-click"]))]),(0,n.Lk)("div",bt,[(0,n.bF)(u,{"on-click":a.Toggle,"width-size":200},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(a.buttonLabel[Number(!a.isLogin)])+"하기",1)])),_:1},8,["on-click"])])])])}o(4603),o(7566),o(8721);const yt=["type","placeholder"],It={key:0,style:{color:"red"}};function Mt(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bo)((0,n.Lk)("input",{type:o.inputType,placeholder:o.placeholder,"onUpdate:modelValue":t[0]||(t[0]=e=>a.inputFieldRef=e)},null,8,yt),[[i.hp,a.inputFieldRef]]),o.validationMessage?((0,n.uX)(),(0,n.CE)("p",It,(0,r.v_)(o.validationMessage),1)):(0,n.Q3)("",!0)])}var Lt={name:"UserInput",props:{placeholder:String,inputField:String,inputType:String,validationMessage:String},setup(e,{emit:t}){const o=(0,a.KR)(e.inputField);return(0,n.wB)(o,(()=>{t("onChanged",[o])})),{inputFieldRef:o}}};const Ot=(0,p.A)(Lt,[["render",Mt],["__scopeId","data-v-7f5a1226"]]);var Rt=Ot,Et={name:"SignIn",components:{RkdButton:m,UserInput:Rt},setup(){const e=(0,l.Pj)(),t=(0,c.rd)(),o=(0,C.useToast)({position:window.innerWidth>768?"bottom-right":"bottom"}),i=(0,a.KR)(!0),r=(0,a.KR)(["회원가입","로그인"]),s=(0,a.KR)(""),u=(0,a.KR)(""),d=(0,a.KR)(""),v=(0,a.KR)(!1),p=(0,a.KR)(!1),g=(0,a.KR)(""),m=(0,a.KR)("");let h={VUE_APP_PROD_IP_ADDRESS:"https://rkdbq.github.io/",VUE_APP_PROD_PORT:"443",VUE_APP_PROD_TMDB_API_KEY:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMGIyYzM0Mzg5NDRjOWZhM2Y1OGM4ZWVhMTMwZmQ3MiIsIm5iZiI6MTczMDYwMDUxNy45MDUxNjQ3LCJzdWIiOiI2NzI2ZGQ5ZDU3NzIyYjU1NzE3YTk1NzMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.Lp6uHXXLkMDL02Ry0-3d_9niajSqhWRNcJbW2tnsXyw",VUE_APP_PROD_KAKAO_CLIENT_ID:"b5f9610f9e1a0fde4bf46b9f3a45eebd",VUE_APP_PROD_KAKAO_REDIRECT_URI:"https://rkdbq.github.io/rkdflix",NODE_ENV:"production",BASE_URL:"/rkdflix/"}.VUE_APP_DEV_KAKAO_CLIENT_ID,f={VUE_APP_PROD_IP_ADDRESS:"https://rkdbq.github.io/",VUE_APP_PROD_PORT:"443",VUE_APP_PROD_TMDB_API_KEY:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMGIyYzM0Mzg5NDRjOWZhM2Y1OGM4ZWVhMTMwZmQ3MiIsIm5iZiI6MTczMDYwMDUxNy45MDUxNjQ3LCJzdWIiOiI2NzI2ZGQ5ZDU3NzIyYjU1NzE3YTk1NzMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.Lp6uHXXLkMDL02Ry0-3d_9niajSqhWRNcJbW2tnsXyw",VUE_APP_PROD_KAKAO_CLIENT_ID:"b5f9610f9e1a0fde4bf46b9f3a45eebd",VUE_APP_PROD_KAKAO_REDIRECT_URI:"https://rkdbq.github.io/rkdflix",NODE_ENV:"production",BASE_URL:"/rkdflix/"}.VUE_APP_DEV_KAKAO_REDIRECT_URI;h="b5f9610f9e1a0fde4bf46b9f3a45eebd",f="https://rkdbq.github.io/rkdflix";const w=()=>{const e="https://kauth.kakao.com/oauth/authorize?client_id="+h+"&redirect_uri="+f+"&response_type=code&scope=profile_nickname";window.location.href=e},k=async e=>{try{const t=await fetch("https://kapi.kakao.com/v2/user/me",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${e}`}}),o=await t.json();return o}catch(t){return o.error("토큰 요청 중 오류가 발생했습니다."),console.error("토큰 요청 중 오류 발생:",t),t}},b=()=>{if(!navigator.onLine)return;if(g.value)return void o.error(g.value);if(!s.value)return void o.error("아이디를 입력해주세요.");if(!u.value)return void o.error("비밀번호를 입력해주세요.");const i=JSON.parse(localStorage.getItem(s.value));if(i&&u.value===i["password"]){if(v.value){const e={id:s.value,password:u.value};localStorage.setItem("remember_me",JSON.stringify(e))}o.success("로그인 성공!"),e.commit("setUser",{userId:s.value,password:i["password"],wishlist:i["wishlist"],search:i["search"],nickname:i["nickname"]}),t.push("/")}else o.error("비밀번호가 일치하지 않습니다.")},_=()=>{i.value=!i.value,s.value="",u.value="",d.value="",p.value=!1},y=(i,n)=>{let a=JSON.parse(localStorage.getItem(i));if(a)o.success("로그인 성공!");else{o.success("회원가입 성공!");const e={password:"kakao",wishlist:{},search:{genre:"장르","vote avg":"별점","sort by":"기준","order by":"순서"},nickname:n};localStorage.setItem(i,JSON.stringify(e)),a=JSON.parse(localStorage.getItem(i))}e.commit("setUser",{userId:i,password:a["password"],wishlist:a["wishlist"],search:a["search"],nickname:a["nickname"]});const r={id:i,password:"kakao"};localStorage.setItem("remember_me",JSON.stringify(r)),t.push("/")},I=()=>{if(g.value)return void o.error(g.value);if(m.value)return void o.error(m.value);if(!s.value)return void o.error("아이디를 입력해주세요.");if(!u.value)return void o.error("비밀번호를 입력해주세요.");if(!p.value)return void o.error("약관에 동의해주세요.");if(localStorage.getItem(s.value))return void o.error("존재하는 아이디입니다.");o.success("회원가입 성공!");const e={password:u.value,wishlist:{},search:{genre:"장르","vote avg":"별점","sort by":"기준","order by":"순서"}};localStorage.setItem(s.value,JSON.stringify(e)),_()},M=e=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,o=(0,a.KR)(e.value&&!t.test(e.value)?"유효한 이메일 형식이 아닙니다.":"");return o.value},L=e=>{s.value=e[0].value,g.value=M(s)},O=(e,t)=>{const o=(0,a.KR)(e.value!==t.value?"비밀번호가 다릅니다.":"");return o.value},R=e=>{u.value=e[0].value,m.value=O(u,d)},E=e=>{d.value=e[0].value,m.value=O(u,d)},P=e=>{v.value=e[0].value},S=e=>{p.value=e[0].value};return(0,n.sV)((async()=>{const e=JSON.parse(localStorage.getItem("remember_me"));if(e)s.value=e["id"],u.value=e["password"],b();else{const e=new URLSearchParams(window.location.search),n=e.get("code");if(n)try{const e=await fetch("https://kauth.kakao.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",client_id:h,redirect_uri:f,code:n})}),t=await e.json();if(200==e.status){if(t.access_token){const e=await k(t.access_token);localStorage.setItem("access_token",t.access_token),console.log(e.id),console.log(e.properties.nickname),y(e.id,e.properties.nickname)}}else o.error(e.statusText)}catch(i){navigator.onLine||(console.error("네트워크 연결 오류:",i),o.error("네트워크 연결에 문제가 있습니다. 인터넷을 확인하세요."),t.push("/error")),console.error("API 호출 오류:",i),o.error("API 호출 중 오류가 발생했습니다.")}window.history.replaceState({},"","/rkdflix/")}})),{isLogin:i,buttonLabel:r,userId:s,userPw:u,userPwConfirm:d,rememberMe:v,userConditionAgreement:p,emailError:g,pwError:m,Toggle:_,LogIn:b,KakaoLogIn:w,Register:I,validateEmail:M,onIdChanged:L,onPwChanged:R,onPwConfirmChanged:E,onRememberMeChanged:P,onConditionAgreementChanged:S}}};const Ct=(0,p.A)(Et,[["render",_t],["__scopeId","data-v-cf29f484"]]);var Pt=Ct;const St={class:"error-page"};function Wt(e,t,o,i,a,r){const s=(0,n.g2)("RkdButton");return(0,n.uX)(),(0,n.CE)("div",St,[t[1]||(t[1]=(0,n.Lk)("h1",null,"네트워크 연결 문제",-1)),t[2]||(t[2]=(0,n.Lk)("p",null,"인터넷 연결이 끊어졌습니다. 연결을 확인한 후 다시 시도해주세요.",-1)),(0,n.bF)(s,{onClick:r.reloadPage},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("다시 시도")]))),_:1},8,["onClick"])])}var Xt={name:"ErrorPage",components:{RkdButton:m},methods:{reloadPage(){window.location.reload()}}};const At=(0,p.A)(Xt,[["render",Wt],["__scopeId","data-v-113f2c3a"]]);var Ft=At;const Nt=[{path:"/",component:fe},{path:"/popular",component:je},{path:"/search",component:rt},{path:"/wishlist",component:dt},{path:"/sign-in",component:Pt},{path:"/error",name:"ErrorPage",component:Ft}],Tt=(0,c.aE)({history:(0,c.sC)(),routes:Nt}),zt=(0,l.y$)({state(){return{user:{userId:null,password:null,wishlist:{},search:{genre:"장르","vote avg":"별점","sort by":"기준","order by":"순서"},nickname:null}}},mutations:{setUser(e,t){e.user=t},toggleToWishlist(e,t){const o=t["id"];e.user.wishlist[o]?delete e.user.wishlist[o]:e.user.wishlist[o]=t},updateSearchOption(e,{key:t,value:o}){e.user.search[t]=o}},actions:{toggleMovieInWishlist({commit:e},t){e("toggleToWishlist",t);const o=zt.state.user.userId,i={password:zt.state.user.password,wishlist:zt.state.user.wishlist,search:zt.state.user.search,nickname:zt.state.user.nickname};localStorage.setItem(o,JSON.stringify(i))},updateMovieSearchOption({commit:e},t){const o=t[0],i=t[1];console.log(o),e("updateSearchOption",{key:o,value:i});const n=zt.state.user.userId,a={password:zt.state.user.password,wishlist:zt.state.user.wishlist,search:zt.state.user.search,nickname:zt.state.user.nickname};localStorage.setItem(n,JSON.stringify(a))}}});(0,i.Ef)(E).use(Tt).use(zt).use(P()).mount("#app")}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,i,n,a){if(!i){var r=1/0;for(u=0;u<e.length;u++){i=e[u][0],n=e[u][1],a=e[u][2];for(var s=!0,l=0;l<i.length;l++)(!1&a||r>=a)&&Object.keys(o.O).every((function(e){return o.O[e](i[l])}))?i.splice(l--,1):(s=!1,a<r&&(r=a));if(s){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[i,n,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/rkdflix/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,a,r=i[0],s=i[1],l=i[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var u=l(o)}for(t&&t(i);c<r.length;c++)a=r[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},i=self["webpackChunkrkdflix"]=self["webpackChunkrkdflix"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(5139)}));i=o.O(i)})();
//# sourceMappingURL=app.805a3968.js.map
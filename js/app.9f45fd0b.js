(function(){"use strict";var e={2392:function(e,t,o){var i=o(3751),n=(o(4114),o(641)),r=o(33),l=o(6278),a=o(5220);const s={key:0},u={class:"nav-logout"},v={class:"nav-item"};var d={__name:"App",setup(e){const t=(0,a.lq)(),o=(0,a.rd)(),i=(0,n.EW)((()=>"/sign-in"===t.path)),d=(0,l.Pj)(),p=(0,n.EW)((()=>d.state.user.userId)),c=()=>{localStorage.removeItem("remember_me"),o.push("/sign-in")};return(0,n.sV)((()=>{null===d.state.user.userId&&o.push("/sign-in")})),(e,t)=>{const o=(0,n.g2)("RouterLink"),l=(0,n.g2)("RouterView");return(0,n.uX)(),(0,n.CE)(n.FK,null,[i.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("header",s,[(0,n.Lk)("nav",null,[(0,n.bF)(o,{class:"nav-item",to:"/"},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("Home")]))),_:1}),(0,n.bF)(o,{class:"nav-item",to:"/popular"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("Popular")]))),_:1}),(0,n.bF)(o,{class:"nav-item",to:"/search"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("Search")]))),_:1}),(0,n.bF)(o,{class:"nav-item",to:"/wishlist"},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("Wishlist")]))),_:1})]),(0,n.Lk)("nav",u,[(0,n.Lk)("p",v,(0,r.v_)(p.value)+" 님",1),(0,n.Lk)("button",{class:"nav-item",onClick:c},"로그아웃")])])),(0,n.Lk)("main",null,[(0,n.bF)(l)])],64)}}};const p=d;var c=p;function g(e,t,o,i,r,l){const a=(0,n.g2)("MovieBanner"),s=(0,n.g2)("MovieSliderView"),u=(0,n.g2)("Loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(a,{id:i.firstMovie["now_playing"]["id"],title:i.firstMovie["now_playing"]["title"],"backdrop-path":i.firstMovie["now_playing"]["backdrop_path"],overview:i.firstMovie["now_playing"]["overview"]},null,8,["id","title","backdrop-path","overview"]),(0,n.bF)(s,{"list-name":"Now Playing","movie-items":i.movieItemsMap["now_playing"]},null,8,["movie-items"]),(0,n.bF)(s,{"list-name":"Top Rated","movie-items":i.movieItemsMap["top_rated"]},null,8,["movie-items"]),(0,n.bF)(s,{"list-name":"Upcoming","movie-items":i.movieItemsMap["upcoming"]},null,8,["movie-items"]),(0,n.bF)(u,{isLoading:i.loading},null,8,["isLoading"])],64)}var m=o(953);const h={class:"slider"},w={class:"movie-grid",ref:"slider"};function f(e,t,o,i,l,a){const s=(0,n.g2)("MovieItem");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("h1",null,(0,r.v_)(e.listName),1),(0,n.Lk)("div",h,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.prevSlide&&e.prevSlide(...t)),class:"arrow left-arrow"},"❮"),(0,n.Lk)("div",w,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.movieItems,(e=>((0,n.uX)(),(0,n.Wv)(s,{key:e["id"],id:e["id"],title:e["title"],posterPath:e["poster_path"],overview:e["overview"],voteAverage:e["vote_average"],"show-info":!1},null,8,["id","title","posterPath","overview","voteAverage"])))),128))],512),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.nextSlide&&e.nextSlide(...t)),class:"arrow right-arrow"},"❯")])])}const b=["src","alt"],y={key:0,class:"title"},I={key:1};function M(e,t,o,i,l,a){return(0,n.uX)(),(0,n.CE)("div",{class:"movie-item",onClick:t[0]||(t[0]=(...e)=>i.toggleToWishlist&&i.toggleToWishlist(...e))},[(0,n.Lk)("div",{class:(0,r.C4)(["poster-container",{"in-wishlist":i.isInWishlist}])},[(0,n.Lk)("img",{src:i.posterUrl,alt:o.title},null,8,b),(0,n.Lk)("p",{style:(0,r.Tr)(i.voteAverageStyle),class:"vote-box"},(0,r.v_)(i.roundedVoteAverage),5)],2),o.showInfo?((0,n.uX)(),(0,n.CE)("p",y,(0,r.v_)(o.title),1)):(0,n.Q3)("",!0),o.showInfo?((0,n.uX)(),(0,n.CE)("p",I,(0,r.v_)(i.truncatedOverview),1)):(0,n.Q3)("",!0)])}const k="https://image.tmdb.org/t/p/original";var C={name:"MovieItem",props:{id:Number,title:String,posterPath:String,overview:{type:String,default:""},voteAverage:Number,showInfo:Boolean},setup(e){const t=(0,l.Pj)(),{id:o,title:i,posterPath:r,overview:a,voteAverage:s}=(0,m.QW)(e),u=(0,n.EW)((()=>k+r.value)),v=(0,n.EW)((()=>Math.round(10*s.value)/10)),d=(0,n.EW)((()=>{let e;return e=v.value>=8?"green":v.value>=4?"orange":"red",{backgroundColor:e,color:"white",padding:"4px 8px",borderRadius:"4px",display:"inline-block",fontWeight:"bold"}})),p=(0,n.EW)((()=>a.value.length>50?a.value.substring(0,50)+"...":a.value)),c=(0,n.EW)((()=>t.state.user.wishlist[o.value])),g=()=>{const e={id:o.value,title:i.value,poster_path:r.value,overview:a.value,vote_average:s.value};t.dispatch("toggleMovieInWishlist",e)};return{posterUrl:u,voteAverageStyle:d,roundedVoteAverage:v,truncatedOverview:p,isInWishlist:c,toggleToWishlist:g}}},L=o(6262);const O=(0,L.A)(C,[["render",M],["__scopeId","data-v-7e24e312"]]);var _=O,E=(0,n.pM)({name:"MovieSliderView",components:{MovieItem:_},props:{listName:{type:String,required:!0},movieItems:{type:Array,required:!0}},setup(){const e=(0,m.KR)(null),t=t=>{e.value&&e.value.scrollBy({top:0,left:t*e.value.clientWidth,behavior:"smooth"})},o=()=>t(1),i=()=>t(-1);return{slider:e,nextSlide:o,prevSlide:i}}});const S=(0,L.A)(E,[["render",f],["__scopeId","data-v-5d6edc20"]]);var X=S;const F={key:0,class:"loading-overlay"};function W(e,t,o,i,r,l){return o.isLoading?((0,n.uX)(),(0,n.CE)("div",F,t[0]||(t[0]=[(0,n.Lk)("div",{class:"loading-spinner"},"Loading...",-1)]))):(0,n.Q3)("",!0)}var P={name:"LoadingOverlay",props:{isLoading:{}}};const T=(0,L.A)(P,[["render",W],["__scopeId","data-v-35a82c86"]]);var R=T;const x={class:"movie-item"},N={class:"poster-container"},K=["src","alt"],A={class:"overlay"},j={class:"title"},z={class:"overview"};function J(e,t,o,i,l,a){return(0,n.uX)(),(0,n.CE)("div",x,[(0,n.Lk)("div",N,[(0,n.Lk)("img",{src:e.backdropUrl,alt:e.title,class:"backdrop-image"},null,8,K),(0,n.Lk)("div",A,[(0,n.Lk)("h1",j,(0,r.v_)(e.title),1),(0,n.Lk)("p",z,(0,r.v_)(e.overview),1)])])])}const V="https://image.tmdb.org/t/p/original";var Q=(0,n.pM)({name:"MovieBanner",props:{id:Number,title:String,backdropPath:String,overview:{type:String,default:""},voteAverage:Number},setup(e){const t=(0,n.EW)((()=>V+e.backdropPath));return{backdropUrl:t}}});const U=(0,L.A)(Q,[["render",J],["__scopeId","data-v-1069b692"]]);var Y=U;const D="https://api.themoviedb.org/3/movie/",G={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMGIyYzM0Mzg5NDRjOWZhM2Y1OGM4ZWVhMTMwZmQ3MiIsIm5iZiI6MTczMDYwMDUxNy45MDUxNjQ3LCJzdWIiOiI2NzI2ZGQ5ZDU3NzIyYjU1NzE3YTk1NzMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.Lp6uHXXLkMDL02Ry0-3d_9niajSqhWRNcJbW2tnsXyw"}};var Z={name:"HomePage",components:{MovieBanner:Y,MovieSliderView:X,Loading:R},setup(){const e=(0,m.Kh)({now_playing:[],top_rated:[],upcoming:[]}),t=(0,m.Kh)({now_playing:{},top_rated:{},upcoming:{}}),o=(0,m.KR)(!1),i=i=>{o.value=!0;const n="ko",r=1;fetch(`${D}${i}?language=${n}&page=${r}`,G).then((e=>e.json())).then((o=>{e[i]=o["results"],t[i]=o["results"][0]})).catch((e=>console.error(e))).finally((()=>{o.value=!1}))};return(0,n.sV)((()=>{i("now_playing"),i("top_rated"),i("upcoming")})),{movieItemsMap:e,firstMovie:t,loading:o}}};const q=(0,L.A)(Z,[["render",g]]);var $=q;const B={class:"select-view-container"},H=["disabled"],ee=["disabled"],te={key:0},oe={key:1};function ie(e,t,o,i,r,l){const a=(0,n.g2)("MovieTableView"),s=(0,n.g2)("MovieScrollView"),u=(0,n.g2)("Loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[t[2]||(t[2]=(0,n.Lk)("h1",null,"Popular",-1)),(0,n.Lk)("div",B,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>i.setViewOption("scroll")),disabled:"scroll"===i.viewOption}," Scroll ",8,H),(0,n.Lk)("button",{onClick:t[1]||(t[1]=e=>i.setViewOption("grid")),disabled:"grid"===i.viewOption}," Grid ",8,ee)]),"grid"===i.viewOption?((0,n.uX)(),(0,n.CE)("div",te,[(0,n.bF)(a,{"table-page":i.tablePage,"index-from":i.indexFrom,"index-to":i.indexTo,"movie-items":i.movieItems,"next-page":i.nextPage,"prev-page":i.prevPage},null,8,["table-page","index-from","index-to","movie-items","next-page","prev-page"])])):(0,n.Q3)("",!0),"scroll"===i.viewOption?((0,n.uX)(),(0,n.CE)("div",oe,[(0,n.bF)(s,{"go-top":i.goTop,"movie-items":i.movieItems},null,8,["go-top","movie-items"])])):(0,n.Q3)("",!0),(0,n.bF)(u,{isLoading:i.loading},null,8,["isLoading"])],64)}const ne={class:"go-top-button"};function re(e,t,o,i,r,l){const a=(0,n.g2)("MovieGrid");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(a,{"movie-items":e.movieItems,"show-info":e.showInfo},null,8,["movie-items","show-info"]),(0,n.Lk)("div",ne,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.goTop&&e.goTop(...t))},"Top")])],64)}const le={class:"movie-grid-container"},ae={class:"movie-grid"};function se(e,t,o,i,r,l){const a=(0,n.g2)("MovieItem");return(0,n.uX)(),(0,n.CE)("div",le,[(0,n.Lk)("div",ae,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.movieItems,(t=>((0,n.uX)(),(0,n.Wv)(a,{key:t["id"],id:t["id"],posterPath:t["poster_path"],voteAverage:t["vote_average"],overview:t["overview"],title:t["title"],"show-info":e.showInfo},null,8,["id","posterPath","voteAverage","overview","title","show-info"])))),128))])])}var ue=(0,n.pM)({name:"MovieGrid",components:{MovieItem:_},props:{movieItems:{type:Array,required:!0},showInfo:{type:Boolean,default:!1}}});const ve=(0,L.A)(ue,[["render",se],["__scopeId","data-v-75c890b8"]]);var de=ve,pe=(0,n.pM)({name:"MovieScrollView",components:{MovieGrid:de},props:{goTop:{type:Function,required:!0},movieItems:{type:Array,required:!0},showInfo:{type:Boolean,default:!1}}});const ce=(0,L.A)(pe,[["render",re],["__scopeId","data-v-70418a4f"]]);var ge=ce;const me={class:"pagination"},he=["disabled"],we=["disabled"];function fe(e,t,o,i,l,a){const s=(0,n.g2)("MovieGrid");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(s,{"movie-items":e.slicedMovieItems},null,8,["movie-items"]),(0,n.Lk)("div",me,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.prevPage&&e.prevPage(...t)),disabled:1===e.tablePage},"Previous",8,he),(0,n.Lk)("span",null,"Page "+(0,r.v_)(e.tablePage),1),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.nextPage&&e.nextPage(...t)),disabled:20===e.tablePage},"Next",8,we)])],64)}var be=(0,n.pM)({name:"MovieTableView",components:{MovieGrid:de},props:{tablePage:{type:Number,required:!0},indexFrom:{type:Number,required:!0},indexTo:{type:Number,required:!0},movieItems:{type:Array,required:!0},nextPage:{type:Function,required:!0},prevPage:{type:Function,required:!0}},setup(e){const t=(0,n.EW)((()=>e.movieItems.slice(e.indexFrom,e.indexTo)));return{slicedMovieItems:t}}});const ye=(0,L.A)(be,[["render",fe],["__scopeId","data-v-f441b708"]]);var Ie=ye;const Me="https://api.themoviedb.org/3/movie/popular?language=ko&page=",ke={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMGIyYzM0Mzg5NDRjOWZhM2Y1OGM4ZWVhMTMwZmQ3MiIsIm5iZiI6MTczMDYwMDUxNy45MDUxNjQ3LCJzdWIiOiI2NzI2ZGQ5ZDU3NzIyYjU1NzE3YTk1NzMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.Lp6uHXXLkMDL02Ry0-3d_9niajSqhWRNcJbW2tnsXyw"}};var Ce={name:"PopularMovie",components:{MovieTableView:Ie,MovieScrollView:ge,Loading:R},setup(){const e=(0,m.KR)([]),t=(0,m.KR)(1),o=(0,m.KR)("grid"),i=(0,m.KR)(!0),r=(0,m.KR)(!1),l=(0,m.KR)(0),a=(0,m.KR)(10),s=(0,m.KR)(1),u=(0,n.EW)((()=>Number(l.value+a.value))),v=t=>{r.value=!0;const o=`${Me}${t}`;fetch(o,ke).then((e=>e.json())).then((t=>{e.value.push(...t["results"])})).catch((e=>console.error(e))).finally((()=>{r.value=!1}))},d=()=>{u.value+a.value>=e.value.length&&(t.value++,v(t.value)),s.value++,l.value+=a.value},p=()=>{s.value>1&&(s.value--,l.value-=a.value)},c=()=>{window.scrollTo(0,0)},g=i=>{o.value=i,t.value=1,s.value=1,l.value=0,e.value=[],v(t.value),document.body.style.overflow="grid"===i?"hidden":""},h=()=>{if(i.value&&"scroll"===o.value){const e=window.scrollY,o=window.innerHeight,n=document.documentElement.scrollHeight;e+o>=n-5&&(i.value=!1,t.value++,v(t.value),setTimeout((()=>{i.value=!0}),1e3))}},w=()=>{const e=window.innerWidth,t=window.innerHeight;a.value=Math.floor(e/205)*(Math.floor(t/310)-1),a.value=Math.max(1,a.value)};return(0,n.sV)((()=>{v(t.value),window.addEventListener("scroll",h),w()})),(0,n.xo)((()=>{window.removeEventListener("scroll",h),document.body.style.overflow=""})),{movieItems:e,viewOption:o,isScrollListening:i,loading:r,tablePage:s,sliceSize:a,indexFrom:l,indexTo:u,nextPage:d,prevPage:p,goTop:c,setViewOption:g}}};const Le=(0,L.A)(Ce,[["render",ie],["__scopeId","data-v-205a2448"]]);var Oe=Le;function _e(e,t,o,i,r,l){const a=(0,n.g2)("Filter"),s=(0,n.g2)("MovieScrollView"),u=(0,n.g2)("Loading");return(0,n.uX)(),(0,n.CE)("div",null,[t[1]||(t[1]=(0,n.Lk)("h1",null,"Search",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Object.entries(i.filters),(([e,t])=>((0,n.uX)(),(0,n.Wv)(a,{key:e,"filter-type":e,options:t,"selected-option":i.selectedFilterOption[e],onOnOptionSelected:i.selectOption},null,8,["filter-type","options","selected-option","onOnOptionSelected"])))),128)),(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.resetFilters&&i.resetFilters(...e)),class:"reset-button"},"초기화"),(0,n.bF)(s,{"go-top":i.goTop,"movie-items":i.movieItems},null,8,["go-top","movie-items"]),(0,n.bF)(u,{isLoading:i.loading},null,8,["isLoading"])])}o(8992),o(3949);const Ee={class:"dropdown"},Se={key:0,class:"dropdown-menu"},Xe=["onClick"];function Fe(e,t,o,i,l,a){return(0,n.uX)(),(0,n.CE)("div",Ee,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.toggleDropdown&&e.toggleDropdown(...t)),class:"dropdown-button"},(0,r.v_)(e.selectedOption),1),e.isOpen?((0,n.uX)(),(0,n.CE)("div",Se,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.options,((t,o)=>((0,n.uX)(),(0,n.CE)("button",{key:o,onClick:o=>e.selectOption(t),class:"dropdown-button"},(0,r.v_)(t),9,Xe)))),128))])):(0,n.Q3)("",!0)])}var We=(0,n.pM)({name:"FilterDropdown",props:{filterType:{type:String,required:!0},options:{type:Array,required:!0},selectedOption:{type:String,required:!0}},setup(e,{emit:t}){const o=(0,m.KR)(!1),i=()=>{o.value=!o.value},n=o=>{t("onOptionSelected",[e.filterType,o]),i()};return{isOpen:o,toggleDropdown:i,selectOption:n}}});const Pe=(0,L.A)(We,[["render",Fe],["__scopeId","data-v-0aed9531"]]);var Te=Pe;const Re="https://api.themoviedb.org/3/discover/",xe={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMGIyYzM0Mzg5NDRjOWZhM2Y1OGM4ZWVhMTMwZmQ3MiIsIm5iZiI6MTczMDYwMDUxNy45MDUxNjQ3LCJzdWIiOiI2NzI2ZGQ5ZDU3NzIyYjU1NzE3YTk1NzMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.Lp6uHXXLkMDL02Ry0-3d_9niajSqhWRNcJbW2tnsXyw"}};var Ne={name:"SearchMovie",components:{MovieScrollView:ge,Filter:Te,Loading:R},setup(){const e=(0,m.KR)([]),t=(0,m.KR)(1),o=(0,m.KR)(!0),i=(0,m.KR)(!1),r=(0,m.Kh)({}),l=(0,m.Kh)({"인기순":"popularity","이름순":"title","별점순":"vote_average","개봉순":"primary_release_date"}),a=(0,m.Kh)({"오름차순":"asc","내림차순":"desc"}),s=(0,m.Kh)({genre:"장르","vote avg":"별점","sort by":"기준","order by":"순서"}),u=(0,m.Kh)({genre:[],"vote avg":["0-2","2-4","4-6","6-8","8-10"],"sort by":["인기순","이름순","별점순"],"order by":["오름차순","내림차순"]}),v=()=>{s["genre"]="장르",s["vote avg"]="별점",s["sort by"]="기준",s["order by"]="순서",e.value=[],t.value=1,p(t.value)},d=()=>{const e="https://api.themoviedb.org/3/genre/movie/list?language=ko";fetch(e,xe).then((e=>e.json())).then((e=>{e["genres"].forEach((e=>{u["genre"].push(e["name"]),r[e["name"]]=e["id"]}))}))},p=t=>{i.value=!0;const o="movie",n="ko",u=s["genre"],v=s["vote avg"],d=s["sort by"],p=s["order by"];let c=Re+`${o}?language=${n}&page=${t}`;if("장르"!==u&&(c+=`&with_genres=${r[u]}`),"별점"!==v){const e=v.split("-");c+=`&vote_average.gte=${e[0]}&vote_average.lte=${e[1]}`}if("기준"!==d&&"순서"!==p){const e=l[d],t=a[p];c+=`&sort_by=${e}.${t}`}fetch(c,xe).then((e=>e.json())).then((t=>{e.value.push(...t["results"])})).catch((e=>console.error(e))).finally((()=>{i.value=!1}))},c=()=>{window.scrollTo(0,0)},g=()=>{if(o.value){const e=window.scrollY,i=window.innerHeight,n=document.documentElement.scrollHeight;e+i>=n-5&&(o.value=!1,t.value++,p(t.value),setTimeout((()=>{o.value=!0}),1e3))}},h=o=>{const i=o[0];s[i]=o[1],e.value=[],t.value=1,p(t.value)};return(0,n.sV)((()=>{d(),p(t.value),window.addEventListener("scroll",g)})),(0,n.xo)((()=>{window.removeEventListener("scroll",g)})),{movieItems:e,currentPage:t,isScrollListening:o,loading:i,genreId:r,sortParams:l,orderParams:a,selectedFilterOption:s,filters:u,resetFilters:v,getGenreList:d,fetchSearchedMovies:p,goTop:c,handleScroll:g,selectOption:h}}};const Ke=(0,L.A)(Ne,[["render",_e],["__scopeId","data-v-6af378f8"]]);var Ae=Ke;function je(e,t,o,i,r,l){const a=(0,n.g2)("MovieScrollView");return(0,n.uX)(),(0,n.CE)("div",null,[t[0]||(t[0]=(0,n.Lk)("h1",null,"Wishlist",-1)),(0,n.bF)(a,{"go-top":i.goTop,"movie-items":i.wishlist,"show-info":!1},null,8,["go-top","movie-items"])])}var ze={name:"WishList",components:{MovieScrollView:ge},setup(){const e=(0,l.Pj)(),t=(0,n.EW)((()=>Object.values(e.state.user.wishlist))),o=()=>{window.scrollTo(0,0)};return{wishlist:t,goTop:o}}};const Je=(0,L.A)(ze,[["render",je]]);var Ve=Je;const Qe={key:0,class:"sign-in-container"},Ue={key:1,class:"register-container"};function Ye(e,t,o,i,l,a){const s=(0,n.g2)("UserInput");return(0,n.uX)(),(0,n.CE)(n.FK,null,[i.isLogin?((0,n.uX)(),(0,n.CE)("div",Qe,[(0,n.bF)(s,{"field-name":"아이디","input-field":i.userId,"input-type":"text",onOnChanged:i.onIdChanged},null,8,["input-field","onOnChanged"]),(0,n.bF)(s,{"field-name":"비밀번호","input-field":i.userPw,"input-type":"password",onOnChanged:i.onPwChanged},null,8,["input-field","onOnChanged"]),(0,n.bF)(s,{"field-name":"자동 로그인","input-field":i.rememberMe,"input-type":"checkbox",onOnChanged:i.onRememberMeChanged},null,8,["input-field","onOnChanged"])])):(0,n.Q3)("",!0),i.isLogin?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",Ue,[(0,n.bF)(s,{"field-name":"아이디","input-field":i.userId,"input-type":"text",onOnChanged:i.onIdChanged,"validation-message":i.emailError},null,8,["input-field","onOnChanged","validation-message"]),(0,n.bF)(s,{"field-name":"비밀번호","input-field":i.userPw,"input-type":"password",onOnChanged:i.onPwChanged},null,8,["input-field","onOnChanged"]),(0,n.bF)(s,{"field-name":"비밀번호 확인","input-field":i.userPwConfirm,"input-type":"password",onOnChanged:i.onPwConfirmChanged,"validation-message":i.pwError},null,8,["input-field","onOnChanged","validation-message"]),(0,n.bF)(s,{"field-name":"약관 동의","input-field":i.userConditionAgreement,"input-type":"checkbox",onOnChanged:i.onConditionAgreementChanged},null,8,["input-field","onOnChanged"])])),(0,n.Lk)("div",null,[i.isLogin?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.LogIn&&i.LogIn(...e))},"로그인")):(0,n.Q3)("",!0),i.isLogin?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>i.Register&&i.Register(...e))},"회원가입"))]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.Toggle&&i.Toggle(...e))},(0,r.v_)(i.buttonLabel[Number(!i.isLogin)])+"하기",1)])],64)}const De=["type"],Ge={key:0,style:{color:"red"}};function Ze(e,t,o,l,a,s){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("label",null,(0,r.v_)(o.fieldName)+":",1),(0,n.bo)((0,n.Lk)("input",{type:o.inputType,"onUpdate:modelValue":t[0]||(t[0]=e=>l.inputFieldRef=e)},null,8,De),[[i.hp,l.inputFieldRef]]),o.validationMessage?((0,n.uX)(),(0,n.CE)("p",Ge,(0,r.v_)(o.validationMessage),1)):(0,n.Q3)("",!0)])}var qe={name:"UserInput",props:{fieldName:String,inputField:String,inputType:String,validationMessage:String},setup(e,{emit:t}){const o=(0,m.KR)(e.inputField);return(0,n.wB)(o,(()=>{t("onChanged",[o])})),{inputFieldRef:o}}};const $e=(0,L.A)(qe,[["render",Ze],["__scopeId","data-v-430321c5"]]);var Be=$e,He={name:"SignIn",components:{UserInput:Be},setup(){const e=(0,l.Pj)(),t=(0,a.rd)(),o=(0,m.KR)(!0),i=(0,m.KR)(["회원가입","로그인"]),r=(0,m.KR)(""),s=(0,m.KR)(""),u=(0,m.KR)(""),v=(0,m.KR)(!1),d=(0,m.KR)(!1),p=(0,m.KR)(""),c=(0,m.KR)(""),g=()=>{if(p.value&&alert(p.value),r.value||alert("아이디를 입력해주세요."),!s.value)return void alert("비밀번호를 입력해주세요.");const o=JSON.parse(localStorage.getItem(r.value));if(o&&s.value===o["password"]){if(v.value){const e={id:r.value,password:s.value};localStorage.setItem("remember_me",JSON.stringify(e))}alert("로그인 성공!"),e.commit("setUser",{userId:r.value,password:o["password"],wishlist:o["wishlist"]}),t.push("/")}else alert("비밀번호가 일치하지 않습니다.")},h=()=>{o.value=!o.value,r.value="",s.value="",u.value="",d.value=!1},w=()=>{if(p.value)return void alert(p.value);if(c.value)return void alert(c.value);if(!r.value)return void alert("아이디를 입력해주세요.");if(!s.value)return void alert("비밀번호를 입력해주세요.");if(!d.value)return void alert("약관에 동의해주세요.");if(localStorage.getItem(r.value))return void alert("존재하는 아이디입니다.");alert("회원가입 성공!");const e={password:s.value,wishlist:{}};localStorage.setItem(r.value,JSON.stringify(e)),h()},f=e=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,o=(0,m.KR)(e.value&&!t.test(e.value)?"유효한 이메일 형식이 아닙니다.":"");return o.value},b=e=>{r.value=e[0].value,p.value=f(r)},y=(e,t)=>{const o=(0,m.KR)(e.value!==t.value?"비밀번호가 다릅니다.":"");return o.value},I=e=>{s.value=e[0].value,c.value=y(s,u)},M=e=>{u.value=e[0].value,c.value=y(s,u)},k=e=>{v.value=e[0].value},C=e=>{d.value=e[0].value};return(0,n.sV)((()=>{const e=JSON.parse(localStorage.getItem("remember_me"));e&&(r.value=e["id"],s.value=e["password"],g())})),{isLogin:o,buttonLabel:i,userId:r,userPw:s,userPwConfirm:u,rememberMe:v,userConditionAgreement:d,emailError:p,pwError:c,Toggle:h,LogIn:g,Register:w,validateEmail:f,onIdChanged:b,onPwChanged:I,onPwConfirmChanged:M,onRememberMeChanged:k,onConditionAgreementChanged:C}}};const et=(0,L.A)(He,[["render",Ye],["__scopeId","data-v-ff660f84"]]);var tt=et;const ot=[{path:"/",component:$},{path:"/popular",component:Oe},{path:"/search",component:Ae},{path:"/wishlist",component:Ve},{path:"/sign-in",component:tt}],it=(0,a.aE)({history:(0,a.sC)(),routes:ot}),nt=(0,l.y$)({state(){return{user:{userId:null,password:null,wishlist:{}}}},mutations:{setUser(e,t){e.user=t},toggleToWishlist(e,t){const o=t["id"];e.user.wishlist[o]?delete e.user.wishlist[o]:e.user.wishlist[o]=t,console.log(e.user.wishlist[o])}},actions:{toggleMovieInWishlist({commit:e},t){e("toggleToWishlist",t);const o=nt.state.user.userId,i={password:nt.state.user.password,wishlist:nt.state.user.wishlist};localStorage.setItem(o,JSON.stringify(i))}}});(0,i.Ef)(c).use(it).use(nt).mount("#app")}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,i,n,r){if(!i){var l=1/0;for(v=0;v<e.length;v++){i=e[v][0],n=e[v][1],r=e[v][2];for(var a=!0,s=0;s<i.length;s++)(!1&r||l>=r)&&Object.keys(o.O).every((function(e){return o.O[e](i[s])}))?i.splice(s--,1):(a=!1,r<l&&(l=r));if(a){e.splice(v--,1);var u=n();void 0!==u&&(t=u)}}return t}r=r||0;for(var v=e.length;v>0&&e[v-1][2]>r;v--)e[v]=e[v-1];e[v]=[i,n,r]}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,r,l=i[0],a=i[1],s=i[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(s)var v=s(o)}for(t&&t(i);u<l.length;u++)r=l[u],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(v)},i=self["webpackChunkrkdflix"]=self["webpackChunkrkdflix"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(2392)}));i=o.O(i)})();
//# sourceMappingURL=app.9f45fd0b.js.map